[gd_scene load_steps=11 format=3 uid="uid://c7xgjqjyr8eb4"]

[ext_resource type="Texture2D" uid="uid://tso2qs0ew35j" path="res://assets/Card back.png" id="2_g8crc"]
[ext_resource type="Script" path="res://types/draggable.gd" id="3_v5h0v"]
[ext_resource type="Shape2D" uid="uid://b53kt7hfoptw0" path="res://scenes/standard_collision_rectangle.tres" id="4_fq5y8"]
[ext_resource type="Script" path="res://test/AlwaysDropper.gd" id="4_sxo2m"]
[ext_resource type="Script" path="res://test/NoDropper.gd" id="5_yktvt"]
[ext_resource type="Script" path="res://types/empty_spot.gd" id="6_80hli"]
[ext_resource type="Script" path="res://types/droppable.gd" id="7_tnkfv"]
[ext_resource type="Script" path="res://test/YesDropper.gd" id="8_wtjww"]
[ext_resource type="Script" path="res://test/InactiveDropper.gd" id="9_fofgs"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sfms2"]
size = Vector2(50, 70)

[node name="Root" type="Node2D"]

[node name="Card" type="Node2D" parent="."]
position = Vector2(47, 64)

[node name="Draggable" type="Area2D" parent="Card" node_paths=PackedStringArray("controlled_node")]
position = Vector2(50, 70)
script = ExtResource("3_v5h0v")
controlled_node = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Card/Draggable"]
shape = ExtResource("4_fq5y8")
metadata/_edit_lock_ = true

[node name="Sprite2D" type="Sprite2D" parent="Card"]
position = Vector2(50, 70)
texture = ExtResource("2_g8crc")
metadata/_edit_lock_ = true

[node name="SmallCard" type="Node2D" parent="."]
position = Vector2(172, 127)

[node name="Draggable" type="Area2D" parent="SmallCard" node_paths=PackedStringArray("controlled_node")]
position = Vector2(25, 35)
script = ExtResource("3_v5h0v")
controlled_node = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="SmallCard/Draggable"]
shape = SubResource("RectangleShape2D_sfms2")
metadata/_edit_lock_ = true

[node name="Sprite2D" type="Sprite2D" parent="SmallCard"]
position = Vector2(25, 35)
scale = Vector2(0.5, 0.5)
texture = ExtResource("2_g8crc")
metadata/_edit_lock_ = true

[node name="AlwaysDropper" type="Node2D" parent="."]
position = Vector2(321, 195)
script = ExtResource("4_sxo2m")

[node name="EmptySpot" type="Node2D" parent="AlwaysDropper"]
script = ExtResource("6_80hli")
type = 1
color = Color(0, 1, 0, 1)
metadata/_edit_lock_ = true

[node name="Droppable" type="Area2D" parent="AlwaysDropper" node_paths=PackedStringArray("controlled_node")]
position = Vector2(50, 70)
script = ExtResource("7_tnkfv")
controlled_node = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="AlwaysDropper/Droppable"]
shape = ExtResource("4_fq5y8")
metadata/_edit_lock_ = true

[node name="NoDropper" type="Node2D" parent="."]
position = Vector2(387, 105)
script = ExtResource("5_yktvt")

[node name="EmptySpot" type="Node2D" parent="NoDropper"]
script = ExtResource("6_80hli")
type = 4
color = Color(0.584314, 0.0666667, 0.121569, 1)
metadata/_edit_lock_ = true

[node name="Droppable" type="Area2D" parent="NoDropper" node_paths=PackedStringArray("controlled_node")]
position = Vector2(50, 70)
script = ExtResource("7_tnkfv")
controlled_node = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="NoDropper/Droppable"]
shape = ExtResource("4_fq5y8")
metadata/_edit_lock_ = true

[node name="YesDropper" type="Node2D" parent="."]
position = Vector2(263, 102)
script = ExtResource("8_wtjww")

[node name="EmptySpot" type="Node2D" parent="YesDropper"]
script = ExtResource("6_80hli")
type = 3
color = Color(1, 1, 0, 1)
metadata/_edit_lock_ = true

[node name="Droppable" type="Area2D" parent="YesDropper" node_paths=PackedStringArray("controlled_node")]
position = Vector2(50, 70)
script = ExtResource("7_tnkfv")
controlled_node = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="YesDropper/Droppable"]
shape = ExtResource("4_fq5y8")
metadata/_edit_lock_ = true

[node name="InactiveDropper" type="Node2D" parent="."]
position = Vector2(318, 4)
script = ExtResource("9_fofgs")

[node name="EmptySpot" type="Node2D" parent="InactiveDropper"]
script = ExtResource("6_80hli")
type = 2
color = Color(0.411765, 0.411765, 0.411765, 1)
metadata/_edit_lock_ = true

[node name="Droppable" type="Area2D" parent="InactiveDropper" node_paths=PackedStringArray("controlled_node")]
position = Vector2(50, 70)
script = ExtResource("7_tnkfv")
controlled_node = NodePath("..")
active = false
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="InactiveDropper/Droppable"]
shape = ExtResource("4_fq5y8")
metadata/_edit_lock_ = true

[connection signal="received_drop" from="AlwaysDropper/Droppable" to="AlwaysDropper" method="_on_droppable_received_drop"]
[connection signal="received_drop" from="NoDropper/Droppable" to="NoDropper" method="_on_droppable_received_drop"]
[connection signal="received_drop" from="YesDropper/Droppable" to="YesDropper" method="_on_droppable_received_drop"]
[connection signal="received_drop" from="InactiveDropper/Droppable" to="InactiveDropper" method="_on_droppable_received_drop"]
